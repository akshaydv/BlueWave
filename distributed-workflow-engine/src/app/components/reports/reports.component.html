<div class="container">
  <div class="main"> 
        Reports 
      <p>Choose the job for which you wish to see the report!</p>        
        <mat-accordion>
          <mat-expansion-panel *ngFor="let name of jobIdnames; let i = index"> 
            <mat-expansion-panel-header (click)="getJobReports(name.jobId)">
              <mat-panel-title>
                JobId
              </mat-panel-title>
              <mat-panel-description>
                {{name.jobId}}
              </mat-panel-description>
            </mat-expansion-panel-header>  
              <p> Workflow Name: {{name.workFlowName}}</p> 
              <p>Job Start Time: {{jobStartTime | date: 'short'}} </p>
              <p>Job End Time: {{jobEndTime  | date: 'short'}} </p>
              <p>Job Status: {{jobStatus}}</p>

                  <!-- <mat-accordion>
                  <mat-expansion-panel *ngFor="let task of tasks">
                    <mat-expansion-panel-header>
                      <mat-panel-title>
                        {{task.taskAlias}}
                      </mat-panel-title>
                    </mat-expansion-panel-header>  
                          <p>TaskAlias: {{task.taskAlias}} </p> 
                          <p> TaskStartTime: {{task.taskStartTime | date: 'short'}}</p> 
                          <p> TaskEndTime: {{task.taskEndTime | date: 'short'}}</p> 
                          <button mat-button color="primary" (click)="openlogs">View Logs</button>
                        <mat-expansion-panel class="logs-list" *ngIf="this.task.taskLogs!=null">
                        <mat-expansion-panel-header>
                        <mat-panel-title>View Logs</mat-panel-title>
                          </mat-expansion-panel-header>
                          <div class="logsreport" *ngFor="let line of this.task.taskLogs.split('\n')">
                            {{line}}
                          </div>
                        </mat-expansion-panel>  
                      
                  </mat-expansion-panel>
                </mat-accordion>  -->

                <div *ngIf="showWaterFall">
                    <ngx-charts-bar-horizontal-stacked 
                    [view]="view" 
                    [scheme]="colorScheme" 
                    [results]="tasks" 
                    [gradient]="gradient" 
                    [xAxis]="showXAxis"
                    [yAxis]="showYAxis" 
                    [legend]="showLegend" 
                    [showXAxisLabel]="showXAxisLabel" 
                    [showYAxisLabel]="showYAxisLabel" 
                    [xAxisLabel]="xAxisLabel"
                    [yAxisLabel]="yAxisLabel" 
                    (select)="onSelect($event)">
                    </ngx-charts-bar-horizontal-stacked>
                  </div> 
          </mat-expansion-panel>
        </mat-accordion> 
        <mat-paginator 
          [length]="length"
          [pageSize]="pageSize"
          [pageSizeOptions]="pageSizeOptions"
          (page)="pageEvent = $event">
        </mat-paginator>
  <br><br><br>
  <div matTooltip="Add a new workflow!" class="app-fab--absolute" matTooltipPosition="left">
    <button mat-fab color="primary" aria-label="Add Workflow" (click)="viewmodeexit()" [routerLink]="['/addworkflow']">
      <i class="material-icons">add_circle</i>
    </button>
  </div>
</div>